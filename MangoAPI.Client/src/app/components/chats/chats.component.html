<script
  src="../../../../../../MangoMessengerFrontend/src/app/messenger/auxiliary/chat-item-active/chat-item-active.component.ts"></script>
<div class="d-flex">
  <div class="menu" id="menu">
    <nav class="navigation-bar p-2">
      <div class="logo p-1">
        <img alt="Mango Logo" src="./../../../assets/img/logo.png">
      </div>
      <ul class="text-center menu-buttons">
        <li>
          <a href="#">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path class="path active"
                    d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 				14h4a2 2 0 002-2V6a2 2 0 	00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"
                    stroke-linecap="round" stroke-linejoin="round"
                    stroke-width="2"/>
            </svg>
          </a>
        </li>

        <li>
          <a href="#">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path class="path"
                    d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 				4 0 11-8 0 4 4 0 018 0z"
                    stroke-linecap="round" stroke-linejoin="round"
                    stroke-width="2"/>
            </svg>
          </a>
        </li>

        <li>
          <a href="#">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path class="path"
                    d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 				3 3 0 016 0zm6 2a9 9 0 	11-18 0 9 9 0 0118 0z"
                    stroke-linecap="round" stroke-linejoin="round"
                    stroke-width="2"/>
            </svg>
          </a>
        </li>
      </ul>
    </nav>
    <aside class="sidebar">
      <header class="sidebar-header p-3">
        <div class="d-flex justify-content-between align-items-center">
          <h5>Chats</h5>
          <button class="button-dark p-2">
            Create Group
          </button>
        </div>
        <div class="d-flex justify-content-between mt-2 gap-fix">
          <div class="dropdown">
            <button class="dropdown-toggle p-2 button-dark" data-bs-toggle="dropdown" href="#">
              All chats
            </button>
            <div aria-labelledby="dLabel" class="dropdown-menu mt-0" role="menu">
              <div class="dropdown-item">All chats</div>
              <div class="dropdown-item">Groups</div>
              <div class="dropdown-item">Direct chats</div>
              <div class="dropdown-item">Archived</div>
            </div>
          </div>
          <div class="d-inline">
            <div class="input-group mb-3 ">
              <label for="searchBar"></label>
              <input aria-describedby="basic-addon1" class="form-control ml-3" id="searchBar" name="searchBar"
                     placeholder="Search chats..."
                     type="text">
              <div class="input-group-prepend">
                <button class="input-group-text" id="basic-addon1">
                  <img alt=" Search Icon" src="./../../../assets/svg/search-icon.svg"/>
                </button>
              </div>
            </div>
          </div>
        </div>
      </header>
      <ul class="list overflow py-3 px-2">
        <li *ngFor="let chat of chats" class="mb-2">
          <div class="list-item active" *ngIf="activeChatId === chat.chatId; else chatElse">
            <img alt="Chat avatar" class="avatar" src="{{chat.chatLogoImageUrl ? chat.chatLogoImageUrl : './../../../assets/img/chat-avatar.png'}}">
            <div class="content">
              <div class="title" *ngIf="chat.communityType === 2; else elseBlock;">
                <img alt="Group Icon" class="mr-1" height="16" src="../../../assets/svg/group.svg" width="16">
                <div class="info">
                  <p>
                    {{chat.title}}
                  </p>
                  <div>{{toShortTimeString(chat.lastMessageTime)}}</div>
                </div>
              </div>
              <ng-template class="title" #elseBlock>
                <div class="title">
                  <div class="info">
                    <p>
                      {{chat.title}}
                    </p>
                    <div>{{toShortTimeString(chat.lastMessageTime)}}</div>
                  </div>
                </div>
              </ng-template>
              <div class="message">
                <b>{{chat.lastMessageAuthor}}: </b>{{chat.lastMessageText}}
              </div>
            </div>
          </div>
          <ng-template #chatElse>
            <div class="list-item">
              <img alt="Chat avatar" class="avatar" src="{{chat.chatLogoImageUrl ? chat.chatLogoImageUrl : './../../../assets/img/chat-avatar.png'}}">
              <div class="content">
                <div class="title" *ngIf="chat.communityType === 2; else elseBlock;">
                  <img alt="Group Icon" class="mr-1" height="16" src="../../../assets/svg/group.svg" width="16">
                  <div class="info">
                    <p>
                      {{chat.title}}
                    </p>
                    <div>{{toShortTimeString(chat.lastMessageTime)}}</div>
                  </div>
                </div>
                <ng-template class="title" #elseBlock>
                  <div class="title">
                    <div class="info">
                      <p>
                        {{chat.title}}
                      </p>
                      <div>{{toShortTimeString(chat.lastMessageTime)}}</div>
                    </div>
                  </div>
                </ng-template>
                <div class="message">
                  <b>{{chat.lastMessageAuthor}}: </b>{{chat.lastMessageText}}
                </div>
              </div>
            </div>
          </ng-template>
        </li>
      </ul>
    </aside>
  </div>

  <main class="chat" id="chat">
    <div class="chat-layout">
      <div class="chat-header">
        <img alt="Chat Avatar" class="avatar" src="./../../../assets/img/chat-avatar.png"/>
        <div class="chat-info ml-2">
          <div class="chat-description">
            <span class="chat-name">Lorem ipsum dolor sit amet</span>
            <span>Lorem ipsum dolor sit amet</span>
            <span>2 members</span>
          </div>
          <div class="chat-actions">
            <button class="button-dark">
              <img alt="Search Icon" src="./../../../assets/svg/search-icon.svg"/>
            </button>
            <div class="dropdown">
              <button aria-expanded="false" aria-haspopup="true" class="button-dark" data-bs-toggle="dropdown"
                      role="button" title="Details">
                <img alt="Vertical Dots" src="./../../../assets/svg/dots-vertical.svg"/>
              </button>

              <div class="dropdown-menu dropdown-menu-right">
                <div class="dropdown-item gap-fix d-flex" data-target="#startConversation" data-toggle="modal"
                     role="button">
                  <img alt="Archive Icon" class="mr-1" src="./../../../assets/svg/archive.svg">

                  <span>Archive Chat</span>
                </div>
                <div class="dropdown-item gap-fix d-flex" data-target="#createGroup" data-toggle="modal" role="button">
                  <img alt="Leave Chat Icon" class="mr-1" src="./../../../assets/svg/trash.svg">

                  <span class="text-red">Leave Chat</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id='chatMessages' class="chat-messages overflow background-pattern ">
        <ul>
          <li class="message">
            <div class="message-layout">
              <img alt="User Avatar" class="user-avatar" src="./../../../assets/img/razumovsky_picture.jpg"/>
              <div class="message-wrapper">
                <div class="message-content">
                  <div class="display-name">razumovsky r</div>
                  <p>testttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttаааааа</p>
                </div>
                <div class="message-options gap-fix">
                  <p class="message-time mr-2">12:56</p>
                  <div class="message-button">
                    <img alt="Reply Icon" src="./../../../assets/svg/reply.svg">
                  </div>
                </div>
              </div>

            </div>
          </li>
          <li class="message self">
            <div class="message-layout">
              <img alt="User Avatar" class="user-avatar" src="./../../../assets/img/razumovsky_picture.jpg"/>
              <div class="message-wrapper">
                <div class="message-content">
                  <div class="display-name">razumovsky r</div>
                  <p>testttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttаааааа</p>
                </div>
                <div class="message-options gap-fix">
                  <p class="message-time">12:56</p>
                  <button class="message-button mr-2">
                    <img alt="Reply Icon" src="./../../../assets/svg/reply.svg">
                  </button>
                  <div class="dropdown">
                    <button aria-expanded="false" aria-haspopup="true" class="message-button mr-2"
                            data-bs-toggle="dropdown" title="Details">
                      <img alt="Horizontal Dots" src="./../../../assets/svg/dots-horizontal.svg"/>
                    </button>
                    <div class="dropdown-menu">
                      <div class="dropdown-item gapfix d-flex" data-target="#startConversation" data-toggle="modal"
                           role="button">
                        <img alt="Edit Icon" src="./../../../assets/svg/edit.svg">
                        <span>Edit</span>
                      </div>
                      <div class="dropdown-item gapfix d-flex" data-target="#createGroup" data-toggle="modal"
                           role="button">
                        <img alt="Delete Message Icon" class="mr-1" src="./../../../assets/svg/trash.svg">
                        <span class="text-red">Delete</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </li>
        </ul>
      </div>

      <div class="chat-footer">
        <div class="dropdown">
          <button class="button-dark button-dark-no-hover align-text-top"
                  data-bs-toggle="dropdown">
            <img alt="Attach icon" src="./../../../assets/svg/attach.svg">
          </button>
          <div class="dropdown-menu">
            <div class="dropdown-item">
              <input id="attachment" type="file">
            </div>
          </div>
        </div>
        <div class="dropdown">
          <button class="button-dark button-dark-no-hover mr-2" data-bs-toggle="dropdown">
            <img alt="Emoji Icon" src="./../../../assets/svg/emoji.svg">
          </button>
          <div class="dropdown-menu emoji-dropdown-menu">
            <div class="dropdown-item no-hover">
              <span>Emoji</span>
            </div>
            <div class="dropdown-divider"></div>
            <div class="dropdown-item dropdown-item-emoji">
              <div class="gap-fix d-flex mb-2">
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😀</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😃</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😁</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😆</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😅</button>
              </div>
              <div class="gap-fix d-flex mb-2">
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😅</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😂</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">🤣️</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😊</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😇</button>
              </div>
              <div class="gap-fix d-flex mb-2">
                <button class="button-dark emoji" (click)="onEmojiClick($event)">🙂</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">🙃</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😉</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😌</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😍</button>
              </div>
              <div class="gap-fix d-flex mb-2">
                <button class="button-dark emoji" (click)="onEmojiClick($event)">🥰</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😘</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😗</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😙</button>
                <button class="button-dark emoji" (click)="onEmojiClick($event)">😚</button>
              </div>
            </div>
          </div>
        </div>

        <textarea id="message-input" class="message-input overflow" placeholder="Write message..." [(ngModel)]="messageText"></textarea>
        <button class="send-message">
          <img alt="Arrow Right Icon" src="./../../../assets/svg/arrow-right.svg">
        </button>
      </div>
    </div>
  </main>
</div>
