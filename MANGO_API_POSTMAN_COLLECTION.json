{
	"info": {
		"_postman_id": "1c696d57-c39e-4cc5-a383-0553b0322925",
		"name": "MANGO_TEST_COLLECTION",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Users",
			"item": [
				{
					"name": "Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var obj = pm.response.json();\r",
									"pm.globals.set(\"ACCESS_TOKEN\", obj.accessToken);\r",
									"pm.globals.set(\"REFRESH_TOKEN\", obj.refreshToken);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"kolosovp94@gmail.com\",\r\n  \"displayName\": \"Bo4a Account\",\r\n  \"password\": \"z[?6dMR#xmp=nr6q\",\r\n  \"termsAccepted\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/users",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Email Confirmation",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"kolosovp94@gmail.com\",\r\n  \"emailCode\": \"0a49292f-3924-474b-b151-922a14933125\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/users/email-confirmation/",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"users",
								"email-confirmation",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/users/2cd4b9a0-f70d-476d-a3cc-908da43f93c4",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"users",
								"2cd4b9a0-f70d-476d-a3cc-908da43f93c4"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/users",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update User Information",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"firstName\": \"Test\",\r\n  \"lastName\": \"User\",\r\n  \"displayName\": \"Test User\",\r\n  \"phoneNumber\": \"54763198\",\r\n  \"birthdayDate\": \"1995-04-07T00:00:00\",\r\n  \"email\": \"test@gmail.com\",\r\n  \"website\": \"test.com\",\r\n  \"username\": \"TestUser\",\r\n  \"bio\": \"Test user from $'{cityName}'\",\r\n  \"address\": \"Finland, Helsinki\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/users/account",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"users",
								"account"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Profile Picture",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/users/picture/floppa_3b7888c7-40ae-413c-8400-735e87b5a66a.JPG",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"users",
								"picture",
								"floppa_3b7888c7-40ae-413c-8400-735e87b5a66a.JPG"
							]
						}
					},
					"response": []
				},
				{
					"name": "Change Password",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"currentPassword\": \"T[?64Ms#xdp=Qr7q\",\r\n  \"newPassword\": \"12345678\",\r\n  \"repeatNewPassword\": \"12345679\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/users/password",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"users",
								"password"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Communities",
			"item": [
				{
					"name": "Create Chat",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"partnerId\": \"2cd4b9a0-f70d-476d-a3cc-908da43f93c4\",\r\n  \"chatType\": 2\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/communities/chat",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"communities",
								"chat"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Community",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"channelType\": 2,\r\n  \"channelTitle\": \"ExtremeCode\",\r\n  \"channelDescription\": \"Community for programmers\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/communities/channel",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"communities",
								"channel"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User Chats",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/communities",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"communities"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search Community",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/communities/searches?displayName=",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"communities",
								"searches"
							],
							"query": [
								{
									"key": "displayName",
									"value": ""
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Messages",
			"item": [
				{
					"name": "Send Message",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"messageText\": \"Message from bo4a\",\r\n  \"chatId\": \"6f66e318-1e94-44ae-9b33-fe001e070842\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/messages",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"messages"
							]
						}
					},
					"response": []
				},
				{
					"name": "Edit Message",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"messageId\": \"020ba9c8-630c-4f7d-a539-72b1f82a706b\",\r\n  \"modifiedText\": \"Message From Bo4a tester edited\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/messages",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"messages"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Message",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/messages/d626a0d8-8a21-4006-8957-cea715a7991e",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"messages",
								"d626a0d8-8a21-4006-8957-cea715a7991e"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Chat Messages by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/messages/f5b7824f-e52b-4246-9984-06fc8e964f0c",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"messages",
								"f5b7824f-e52b-4246-9984-06fc8e964f0c"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search Messages",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/messages/searches/0dae5a74-3528-4e85-95bb-2036bd80432c?messageText=",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"messages",
								"searches",
								"0dae5a74-3528-4e85-95bb-2036bd80432c"
							],
							"query": [
								{
									"key": "messageText",
									"value": ""
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Contacts",
			"item": [
				{
					"name": "Get Current User Contacts",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/contacts",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search Contacts",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/contacts/searches?searchQuery=ame",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"contacts",
								"searches"
							],
							"query": [
								{
									"key": "searchQuery",
									"value": "ame"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Contact",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/contacts/2cd4b9a0-f70d-476d-a3cc-908da43f93c4",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"contacts",
								"2cd4b9a0-f70d-476d-a3cc-908da43f93c4"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Contact",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/contacts/2cd4b9a0-f70d-476d-a3cc-908da43f93c4",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"contacts",
								"2cd4b9a0-f70d-476d-a3cc-908da43f93c4"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Sessions",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var obj = pm.response.json();\r",
									"pm.globals.set(\"ACCESS_TOKEN\", obj.accessToken);\r",
									"pm.globals.set(\"REFRESH_TOKEN\", obj.refreshToken);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email1\": \"{{KHACHATUR_EMAIL}}\",\r\n  \"email\": \"{{RAZUMOVSKY_EMAIL}}\",\r\n  \"password\": \"z[?6dMR#xmp=nr6q\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/sessions",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"sessions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/sessions/{{REFRESH_TOKEN}}",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"sessions",
								"{{REFRESH_TOKEN}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Refresh Session",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var obj = pm.response.json();\r",
									"pm.globals.set(\"ACCESS_TOKEN\", obj.accessToken);\r",
									"pm.globals.set(\"REFRESH_TOKEN\", obj.refreshToken);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/sessions/{{REFRESH_TOKEN}}",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"sessions",
								"{{REFRESH_TOKEN}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout All",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/sessions",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"sessions"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "UserChats",
			"item": [
				{
					"name": "Join Chat",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/user-chats/0dae5a74-3528-4e85-95bb-2036bd80432c",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"user-chats",
								"0dae5a74-3528-4e85-95bb-2036bd80432c"
							]
						}
					},
					"response": []
				},
				{
					"name": "Archive Chat",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"chatId\": \"36991b90-eda1-4eb3-bce3-efe2daec8bca\",\r\n  \"archived\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/user-chats",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"user-chats"
							]
						}
					},
					"response": []
				},
				{
					"name": "Leave Chat",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/user-chats/508f9fe0-d58a-4f0d-9db9-46f41135a3ed",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"user-chats",
								"508f9fe0-d58a-4f0d-9db9-46f41135a3ed"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Documents",
			"item": [
				{
					"name": "Upload Document",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "formFile",
									"type": "file",
									"src": "/C:/Users/pkolosov/OneDrive - Open Sky Data Systems/Desktop/WSB_STUDY/YEAR 2020-2021/DiplomaWork/demo_mango_messenger.mkv"
								}
							]
						},
						"url": {
							"raw": "{{API_URL}}api/documents",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"documents"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "KeyExchange",
			"item": [
				{
					"name": "Create Key Exchange Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"requestedUserId\": \"{{SZYMON_ID}}\",\r\n  \"publicKey\": \"string\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/key-exchange",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"key-exchange"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Key Exchange Requests",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/key-exchange",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"key-exchange"
							]
						}
					},
					"response": []
				},
				{
					"name": "Accept Or Decline Key Exchange",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"requestId\": \"f2572795-5377-4d9e-965f-2681e495b9a3\",\r\n  \"confirmed\": true,\r\n  \"publicKey\": \"string\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/key-exchange",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"key-exchange"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PublicKeys",
			"item": [
				{
					"name": "Get Public Keys",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ACCESS_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/public-keys",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"public-keys"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Password Restore Requests",
			"item": [
				{
					"name": "Create Restore Pass Request",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{API_URL}}api/password-restore-request?email=kolosovp94@gmail.com",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"password-restore-request"
							],
							"query": [
								{
									"key": "email",
									"value": "kolosovp94@gmail.com"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Pass After Request",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"requestId\": \"c9cfed80-51af-4745-91ba-6d2c8075e7d7\",\r\n  \"newPassword\": \"XJ4S}HP$yaf.jky}\",\r\n  \"repeatPassword\": \"XJ4S}HP$yaf.jky}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}api/password-restore-request",
							"host": [
								"{{API_URL}}api"
							],
							"path": [
								"password-restore-request"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}