Table AspNetUsers as UserTable {
  Id text [pk, increment] // auto-increment
  UserName string
  NormalizedUserName string
  DisplayName string
  Bio string
  Image image
  CreatedAt timestamp
  UpdatedAt timestamp
  Email string
  EmailConfirmed boolean
  NormalizedEmail text
  PhoneNumber string
  PhoneNumberConfirmed boolean
  VerificationCode int
  PasswordHash string
  SecurityStamp string
  ConcurencyStamp string
  TwoFactorEnabled boolean
  LockoutEnabled boolean
  LockoutEnd timestamp
  AccessFailedCount int
  ConfirmationCode int
}


Table UserChats as UserChatTable {
  ChatId integer
  UserId text
  RoleId enum
}

Table Chats as ChatTable {
  Id integer [pk, increment]
  Title text
  Image text
  Tag text
  ChatType enum
  Description text
  CreatedAt timestamp
  UpdatedAt timestamp
}


Table Messages as MessagesTable {
  Id integer
  ChatId integer
  UserId text
  Content text
  IsRead boolean
  CreatedAt timestamp
  UpdatedAt timestamp
}


Table UserContacts as UserContactsTable {
  ContactId text
  UserId text
}


Table RefreshTokens as RefreshTokensTable {
  Id uuid [pk, increment]
  UserId text
  UserAgent text
  BrowserFingerprint text
  IpAddress text
  RefreshToken text
  Expires datetime
  CreatedAt datetime
}

Ref: MessagesTable.ChatId > ChatTable.Id

Ref: MessagesTable.UserId > UserTable.Id

Ref: UserContactsTable.UserId > UserTable.Id

Ref: UserTable.Id > UserChatTable.UserId
Ref: ChatTable.Id > UserChatTable.ChatId

Ref: "RefreshTokens"."UserId" < "AspNetUsers"."Id"